<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text to Storyteller</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    {% if session.get('user_id') %}
    <nav class="top-nav">
        <div class="nav-links">
            <a href="{{ url_for('app_page') }}" class="nav-link {% if request.endpoint == 'app_page' %}active{% endif %}">Generate</a>
            <a href="{{ url_for('library_page') }}" class="nav-link {% if request.endpoint == 'library_page' %}active{% endif %}">My Audio</a>
            <a href="{{ url_for('texts_page') }}" class="nav-link {% if request.endpoint == 'texts_page' %}active{% endif %}">My Texts</a>
            <a href="{{ url_for('profile_page') }}" class="nav-link {% if request.endpoint == 'profile_page' %}active{% endif %}">Profile</a>
        </div>
        <div class="nav-right">
            <span class="nav-user">{{ g.current_user.display_name if g.current_user else '' }}</span>
            {% if g.current_user and g.current_user.tier == 'owner' %}
            <span class="nav-crown" title="The King.">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="#FFD700" stroke="#B8860B" stroke-width="1.5">
                    <path d="M2 20h20L19 9l-5 4-2-6-2 6-5-4z"/>
                    <rect x="2" y="20" width="20" height="2" rx="1"/>
                </svg>
            </span>
            {% endif %}
            <form action="{{ url_for('logout') }}" method="POST" class="logout-form">
                <button type="submit" class="btn-logout">Logout</button>
            </form>
        </div>
    </nav>
    {% endif %}
    <div class="container">
        {% block content %}{% endblock %}
    </div>
    <footer>
        <p>Text to Storyteller &mdash; Powered by Google Cloud Text-to-Speech</p>
    </footer>
    {% block scripts %}{% endblock %}
</body>
</html>
